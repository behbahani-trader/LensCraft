# 📦 راهنمای نصب آفلاین نرم‌افزار مدیریت کارگاه عینک‌سازی

## 🎯 هدف
ایجاد نسخه قابل حمل برای نصب روی سیستم‌های بدون اینترنت

---

## 🛠️ روش 1: PyInstaller (توصیه شده)

### مرحله 1: آماده‌سازی در سیستم با اینترنت

1. **دانلود کد منبع:**
   ```bash
   # اگر از Git استفاده می‌کنید
   git clone [repository-url]
   
   # یا فایل‌ها را دستی کپی کنید
   ```

2. **نصب وابستگی‌ها:**
   ```bash
   pip install -r requirements.txt
   pip install pyinstaller
   ```

3. **تست نرم‌افزار:**
   ```bash
   python run.py
   ```
   - مرورگر را باز کرده و به `http://localhost:5000` بروید
   - مطمئن شوید همه چیز کار می‌کند

### مرحله 2: ساخت نسخه قابل حمل

1. **اجرای اسکریپت ساخت:**
   ```bash
   create_portable.bat
   ```

2. **منتظر تکمیل فرآیند بمانید** (ممکن است چند دقیقه طول بکشد)

3. **بررسی خروجی:**
   - پوشه `dist\LensWorkshop_Portable` ایجاد شده است
   - فایل `LensWorkshop.exe` موجود است
   - فایل‌های `شروع.bat` و `راهنما.txt` ایجاد شده‌اند

### مرحله 3: انتقال به سیستم هدف

1. **کپی کردن پوشه:**
   - کل پوشه `LensWorkshop_Portable` را روی فلش یا DVD کپی کنید
   - به سیستم هدف منتقل کنید

2. **اجرا در سیستم هدف:**
   - فایل `شروع.bat` را دابل کلیک کنید
   - مرورگر را باز کرده و به `http://localhost:5000` بروید
   - با `admin/admin` وارد شوید

---

## 🛠️ روش 2: Portable Python

### مرحله 1: دانلود Portable Python

1. **دانلود WinPython:**
   - از سایت https://winpython.github.io/
   - نسخه 3.9 یا بالاتر

2. **استخراج در پوشه:**
   ```
   LensWorkshop_Portable/
   ├── WinPython/
   ├── App/
   └── start.bat
   ```

### مرحله 2: کپی کردن نرم‌افزار

1. **کپی فایل‌های برنامه:**
   ```
   App/
   ├── app/
   ├── instance/
   ├── run.py
   ├── requirements.txt
   └── ...
   ```

2. **ایجاد اسکریپت راه‌اندازی:**
   ```batch
   @echo off
   cd /d "%~dp0"
   WinPython\python.exe -m pip install -r App\requirements.txt
   WinPython\python.exe App\run.py
   pause
   ```

---

## 🛠️ روش 3: Docker (پیشرفته)

### مرحله 1: ایجاد Docker Image

1. **ایجاد Dockerfile:**
   ```dockerfile
   FROM python:3.9-slim
   WORKDIR /app
   COPY requirements.txt .
   RUN pip install -r requirements.txt
   COPY . .
   EXPOSE 5000
   CMD ["python", "run.py"]
   ```

2. **ساخت Image:**
   ```bash
   docker build -t lens-workshop .
   docker save lens-workshop > lens-workshop.tar
   ```

### مرحله 2: انتقال و اجرا

1. **در سیستم هدف:**
   ```bash
   docker load < lens-workshop.tar
   docker run -p 5000:5000 lens-workshop
   ```

---

## 📋 چک‌لیست نهایی

### ✅ قبل از انتقال:
- [ ] نرم‌افزار در سیستم اصلی تست شده
- [ ] تمام فایل‌ها کپی شده‌اند
- [ ] فایل راه‌اندازی ایجاد شده
- [ ] راهنمای استفاده نوشته شده

### ✅ در سیستم هدف:
- [ ] فایل اجرایی کار می‌کند
- [ ] مرورگر به سایت متصل می‌شود
- [ ] ورود با admin/admin موفق است
- [ ] تمام بخش‌ها قابل دسترسی هستند

---

## 🔧 عیب‌یابی

### مشکلات رایج:

1. **خطای "Module not found":**
   - مطمئن شوید تمام کتابخانه‌ها نصب شده‌اند
   - فایل requirements.txt را بررسی کنید

2. **خطای "Port 5000 in use":**
   - پورت 5000 توسط برنامه دیگری استفاده می‌شود
   - برنامه را ببندید و دوباره اجرا کنید

3. **صفحه لود نمی‌شود:**
   - چند ثانیه صبر کنید
   - صفحه را refresh کنید
   - آدرس را دستی وارد کنید

4. **خطای Database:**
   - فایل database.db کپی شده باشد
   - مجوزهای فایل را بررسی کنید

---

## 📞 پشتیبانی

### ویژگی‌های نرم‌افزار:
- ✅ مدیریت سفارشات
- ✅ مدیریت مشتریان  
- ✅ مدیریت انواع عدسی و تراش
- ✅ گزارشات و نمودارها
- ✅ پشتیبان‌گیری و بازیابی
- ✅ کاملاً آفلاین

### سیستم‌های پشتیبانی شده:
- ✅ Windows 10/11
- ✅ Windows Server 2016+
- ✅ بدون نیاز به اینترنت
- ✅ بدون نیاز به نصب اضافی

---

## 🎉 نتیجه

با این روش‌ها می‌توانید نرم‌افزار را روی هر سیستم ویندوزی بدون اینترنت نصب و اجرا کنید!

**روش توصیه شده:** PyInstaller (روش 1) - ساده‌ترین و قابل اعتمادترین روش
